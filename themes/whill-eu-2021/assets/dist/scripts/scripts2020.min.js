window.__env=function(window,ua){"use strict";var _env;return{isWebkit:/webkit/i.test(ua),isChrome:/chrome/i.test(ua),isTouch:!!("ontouchstart"in window),isAndroid:/android/i.test(ua),isIOS:/(iphone|ipad|ipod)/i.test(ua),isFF:/firefox/i.test(ua),isIE:!1,isIE7:!1,isIE8:!1,isIE9:!1,isIE10:!(-1===ua.indexOf("msie 10.0")),isIE11:!(-1===ua.indexOf("trident/7")),isEdge:!(-1===ua.indexOf("edge")),oldIE:!1,isWin:!1,isWinLegacy:!1,dpr:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1,bigImage:!1,isRetina:!1,_zm:1,androidVersion:function(){var version;return parseFloat(ua.slice(ua.indexOf("android")+8))},checkSmartPhone:function(){return ua.indexOf("iphone")>0||ua.indexOf("ipod")>0||ua.indexOf("android")>0&&ua.indexOf("mobile")>0}}}(this,window.navigator.userAgent.toLowerCase()),window.movieFit=function(window,document,$,undef){"use strict";const _app={init:function(){console.log("movieFit init"),$(window).on("resize",(function(){movieFit.resizeMovie()})),this.resizeMovie()},resizeMovie:function(){let $wrapper=$(".movie-center"),dW=$wrapper.attr("data-w"),dH=$wrapper.attr("data-h");$wrapper.each((function(){let $w=$(this),wW=$w.width(),wH=$w.height(),$m=$w.find(".tgt-movie"),mW=$m.width(),mH=$m.height();0!==mH&&mH!==undef||(mH=wW/dW*dH),0!==mW&&mW!==undef||(mW=wH/dH*dW),wW<1e3||mH<wH?$m.css({marginTop:0,marginLeft:.5*(wW-mW)}):$m.css({marginTop:.5*(wH-mH),marginLeft:0})}))}};return _app}(this,this.document,jQuery),window.whill=function(window,document,$,gsap,env,undef){const _whill={init:function(){$(".maas2020").length>0&&_whill.maas.init(),$(".top-about-us").length>0&&_whill.about_us.init()}};return _whill.overlay={__set:function(callbackFunc,closeEventBoolean,callbackCloseFunc){console.log("overlay set");let $tgt,callback="function"==typeof callbackFunc?callbackFunc:undef,closeEvent="boolean"==typeof closeEventBoolean&&closeEventBoolean,callbackClose="function"==typeof callbackCloseFunc?callbackCloseFunc:undef;$("#overlay_all").length<1&&($tgt=$('<div id="overlay_all" />').html('<div class="inner"></div>'),env.isFF||env.isEdge?$("body").append($tgt):$("#viewport").append($tgt)),closeEvent&&$tgt.on("click",(function(ev){_whill.overlay.close(callbackClose),ev.preventDefault()})),gsap.to($tgt,{autoAlpha:1,ease:"Power2.easeOut",duration:.6,onComplete:function(){"function"==typeof callback&&callback()}})},__close:function(callbackFunc){console.log("overlay close");let $tgt=$("#overlay_all"),callback="function"==typeof callbackFunc?callbackFunc:undef;$tgt.length>0&&gsap.to($tgt,{duration:.4,autoAlpha:0,ease:"Power2.easeOut",onComplete:function(){$tgt.remove(),"function"==typeof callback&&callback()}})}},_whill.about_us={init:function(){console.log("About us init"),this.initSlides()},initSlides:function(){console.log("slide init"),$(".slide-item").removeClass("no-disp"),gsap.set("#about-us-slide1",{autoAlpha:1}),$("#slide-nav-next").on("click",(function(){_whill.about_us.nextSlide()})),$("#slide-nav-prev").on("click",(function(){_whill.about_us.prevSlide()}))},nextSlide:function(){let $wrapper=$("#slideWrapper"),now=parseInt($wrapper.attr("data-current"),10),max,tgtNum=now<parseInt($wrapper.attr("data-max"),10)?now+1:1;console.log("nextSlide --- "+now+", "+tgtNum),gsap.to("#about-us-slide"+now,{autoAlpha:0,ease:"Power2.easeOut",duration:.4}),gsap.to("#about-us-slide"+tgtNum,{autoAlpha:1,ease:"Power2.easeOut",duration:.4}),$wrapper.attr("data-current",tgtNum)},prevSlide:function(){let $wrapper=$("#slideWrapper"),now=parseInt($wrapper.attr("data-current"),10),max=parseInt($wrapper.attr("data-max"),10),tgtNum=now>1?now-1:max;console.log("prevSlide --- "+now+", "+tgtNum),gsap.to("#about-us-slide"+now,{autoAlpha:0,ease:"Power2.easeOut",duration:.4}),gsap.to("#about-us-slide"+tgtNum,{autoAlpha:1,ease:"Power2.easeOut",duration:.4}),$wrapper.attr("data-current",tgtNum)}},_whill.maas={init:function(){console.log("MaaS init"),this.initYouTubeMovieBtn(),this.initSolutionBtn()},initYouTubeMovieBtn:function(){let $btn;$("#btn-maas-vision, #btn-maas-system-hospital, #btn-maas-system-airport, #btn-maas-system-museum").on("click",(function(){let $this,movieID=$(this).attr("data-yt");console.log(movieID),_whill.maas.hideSolution(),$("#movieWrapper").length>0?$("#movieWrapper").html('<iframe width="640" height="360" src="//www.youtube.com/embed/'+movieID+'?rel=0" frameborder="0" allowfullscreen></iframe>'):_whill.overlay.__set(_whill.maas.setMovie(movieID))}))},initSolutionBtn:function(){let $btn;$(".solution-btn").on("click",(function(){let $this,idStr=$(this).attr("data-service");console.log(idStr),_whill.maas.showSolution(idStr)})),$("#solution-close").on("click",(function(){_whill.maas.hideSolution()}))},showSolution:function(idStr){let $items=$(".solution-item"),$tgt=$("#"+idStr);$items.addClass("no-disp"),$tgt.removeClass("no-disp"),gsap.to("#solution-detail-wrapper",{autoAlpha:1,ease:"Power2.easeOut",duration:.6})},hideSolution:function(){gsap.to("#solution-detail-wrapper",{autoAlpha:0,ease:"Power2.easeOut",duration:.6,onComplete:function(){$(".solution-item").addClass("no-disp")}})},setMovie:function(movieID){console.log("maas setMovie "+movieID);let htmlSrc='<div id="movieWrapper"><iframe width="640" height="360" src="//www.youtube.com/embed/'+movieID+'?rel=0" frameborder="0" allowfullscreen></iframe></div><a href="javascript:whill.overlay.__close()" class="btn-close replaceElm">close</a>',$wrapper=$("#overlay_all").find(".inner").eq(0);$wrapper.length>0?$wrapper.html(htmlSrc):setTimeout((function(){_whill.maas.setMovie(movieID)}),400)}},_whill}(this,this.document,jQuery,gsap,window.__env),$(document).ready((function(){"use strict";$(".movie-center").length>0&&movieFit.init(),whill.init()}));